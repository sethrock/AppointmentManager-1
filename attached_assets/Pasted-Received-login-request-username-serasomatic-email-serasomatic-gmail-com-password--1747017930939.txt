Received login request: {
  username: 'serasomatic',
  email: 'serasomatic@gmail.com',
  password: 'sdf'
}
Local strategy authenticating with: {
  email: 'serasomatic@gmail.com',
  requestBody: {
    username: 'serasomatic',
    email: 'serasomatic@gmail.com',
    password: 'sdf'
  }
}
Found user by email: undefined
Creating new user for email: serasomatic@gmail.com
Creating user with ID: 999999
Error creating user: error: null value in column "password" of relation "users" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async DatabaseStorage.upsertUser (/home/runner/workspace/server/storage.ts:43:20)
    at async createLocalUser (/home/runner/workspace/server/localAuth.ts:108:19)
    at async Strategy._verify (/home/runner/workspace/server/localAuth.ts:37:27) {
  length: 315,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (999999, serasomatic, null, serasomatic@gmail.com, serasomatic, , , 2025-05-12 02:44:41.379833, 2025-05-12 02:44:41.379833).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'users',
  column: 'password',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '2006',
  routine: 'ExecConstraints'
}
Authentication error: error: null value in column "password" of relation "users" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async DatabaseStorage.upsertUser (/home/runner/workspace/server/storage.ts:43:20)
    at async createLocalUser (/home/runner/workspace/server/localAuth.ts:108:19)
    at async Strategy._verify (/home/runner/workspace/server/localAuth.ts:37:27) {
  length: 315,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (999999, serasomatic, null, serasomatic@gmail.com, serasomatic, , , 2025-05-12 02:44:41.379833, 2025-05-12 02:44:41.379833).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'users',
  column: 'password',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '2006',
  routine: 'ExecConstraints'
}
Error caught in global handler: error: null value in column "password" of relation "users" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async DatabaseStorage.upsertUser (/home/runner/workspace/server/storage.ts:43:20)
    at async createLocalUser (/home/runner/workspace/server/localAuth.ts:108:19)
    at async Strategy._verify (/home/runner/workspace/server/localAuth.ts:37:27) {
  length: 315,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (999999, serasomatic, null, serasomatic@gmail.com, serasomatic, , , 2025-05-12 02:44:41.379833, 2025-05-12 02:44:41.379833).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'users',
  column: 'password',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '2006',
  routine: 'ExecConstraints'
}
2:44:41 AM [express] POST /api/login/local 500 in 244ms :: {"message":"null value in column \"passwoâ€¦
2:45:10 AM [express] GET /api/auth/user 401 in 64ms :: {"message":"Unauthorized"}